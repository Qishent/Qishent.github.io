import{_ as L,r as m,u as M,o as z,x as B,a as u,b as s,l as I,m as V,e as p,f as g,t as D,d as o,w as l,T as _,z as E,j as w,k as n,n as N,v as T,g as v,p as U}from"./index-BAA_AMh7.js";const $={class:"layout"},q={class:"header"},O={class:"logo"},P={key:0,class:"user-info"},j=["src"],F={class:"logout-menu"},R={key:1,class:"login"},W={key:0,class:"sidebar"},G={__name:"Admin",setup(H){const c=m(!1),y=U(),r=M();r.initialize();const b=()=>{r.logout(),localStorage.removeItem("auth"),y.push("/")},t=m(!1),a=m(!1),d=m(!1),f=()=>{a.value=window.innerWidth<=768,t.value=a.value},C=()=>{a.value?(t.value=!t.value,d.value=!d.value):(t.value=!t.value,document.querySelector(".main").classList.toggle("collapsed"))},k=()=>{a.value&&(t.value=!0,d.value=!1),d.value=!1},S=()=>{a.value&&k()};return z(()=>{f(),window.addEventListener("resize",f)}),B(()=>{window.removeEventListener("resize",f)}),(h,e)=>{const i=w("router-link"),x=w("router-view");return n(),u("div",$,[s("header",q,[s("div",O,[a.value?(n(),u("button",{key:0,class:"menu-btn",onClick:C},[(n(),I(V(t.value?"Expand":"Fold")))])):p("",!0),e[2]||(e[2]=s("img",{alt:"pomegranate_logo",src:"/public/pomegranate_logo.svg",width:"50px",height:"65px"},null,-1)),e[3]||(e[3]=s("h1",null,"石榴后台管理",-1))]),s("div",{class:"user-container",onMouseenter:e[0]||(e[0]=A=>c.value=!0),onMouseleave:e[1]||(e[1]=A=>c.value=!1)},[g(r).isLoggedIn?(n(),u("div",P,[s("img",{src:g(r).userInfo.avatar,alt:"头像",class:"avatar"},null,8,j),s("span",null,D(g(r).userInfo.phone),1),o(_,{name:"fade"},{default:l(()=>[N(s("div",F,[s("div",{class:"menu-item",onClick:b},e[4]||(e[4]=[s("span",null,"退出登录",-1)]))],512),[[T,c.value]])]),_:1})])):(n(),u("div",R,[o(i,{to:{path:"/Login",query:{redirect:h.$route.fullPath}}},{default:l(()=>e[5]||(e[5]=[s("i",{title:"登录",class:"iconfont icon-denglu-yonghu"},null,-1)])),_:1},8,["to"])]))],32)]),o(_,{name:"slide"},{default:l(()=>[t.value?p("",!0):(n(),u("aside",W,[s("nav",null,[s("ul",{class:"sidebar-menu",onClick:S},[s("li",null,[o(i,{to:"/Admin/Datas"},{default:l(()=>e[6]||(e[6]=[v("数据统计")])),_:1})]),s("li",null,[o(i,{to:"/Admin/Products"},{default:l(()=>e[7]||(e[7]=[v("商品管理")])),_:1})]),s("li",null,[o(i,{to:"/Admin/Orders"},{default:l(()=>e[8]||(e[8]=[v("订单管理")])),_:1})]),s("li",null,[o(i,{to:"/Admin/Users"},{default:l(()=>e[9]||(e[9]=[v("用户管理")])),_:1})]),s("li",null,[o(i,{to:"/Admin/Settings"},{default:l(()=>e[10]||(e[10]=[v("系统设置")])),_:1})])])])]))]),_:1}),o(_,{name:"fade"},{default:l(()=>[d.value?(n(),u("div",{key:0,class:"mask",onClick:k})):p("",!0)]),_:1}),s("main",{class:E(["main",{collapsed:t.value}])},[o(x)],2)])}}},K=L(G,[["__scopeId","data-v-005d090b"]]);export{K as default};
