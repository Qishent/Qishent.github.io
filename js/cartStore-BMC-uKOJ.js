import{a1 as a}from"./index-Bcu1wmac.js";const m=a("cart",{state:()=>({items:JSON.parse(localStorage.getItem("cart"))||[]}),actions:{addItem(t){const e=this.items.find(s=>s.id===t.id&&JSON.stringify(s.specs)===JSON.stringify(t.specs));if(e){e.stock=t.stock;const s=e.quantity+t.quantity;this.updateQuantity(e.id,s)}else this.items.push({...t,quantity:t.quantity,stock:t.stock}),this.persistCart()},updateQuantity(t,e){const s=this.items.find(i=>i.id===t);if(s){const i=s.stock||100;s.quantity=Math.min(Math.max(1,e),i),this.persistCart()}},removeItem(t){this.items=this.items.filter(e=>e.id!==t),this.persistCart()},clearCart(){this.items=[],this.persistCart()},persistCart(){localStorage.setItem("cart",JSON.stringify(this.items))}},getters:{totalItems:t=>t.items.reduce((e,s)=>e+Number(s.quantity),0),totalPrice:t=>t.items.reduce((s,i)=>s+Number(i.price)*Number(i.quantity),0).toFixed(2)}});export{m as u};
