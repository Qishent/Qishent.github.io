import{a1 as i}from"./index-BJ8CMOzX.js";const e=i("productions",{state:()=>({productions:JSON.parse(localStorage.getItem("productionsStoreData"))||[]}),actions:{saveProductions(t){this.productions=t,localStorage.setItem("productionsStoreData",JSON.stringify(t))},addProduction(t){if(!t.name||typeof t.price!="number")throw new Error("商品数据格式不正确");const o={id:Date.now()+Math.floor(Math.random()*1e3),name:"",price:0,stock:0,status:!0,...t};this.productions=[...this.productions,o],this._saveToLocal()},_saveToLocal(){localStorage.setItem("productionsStoreData",JSON.stringify(this.productions))},updateProduction(t){const o=this.productions.findIndex(s=>s.id===t.originalId);o!==-1&&(this.productions.splice(o,1),this.productions.push(t),this._saveToLocal())},deleteProduction(t){this.productions=this.productions.filter(o=>o.id!==t),localStorage.setItem("productionsStoreData",JSON.stringify(this.productions))},getProductions(){return this.productions}}});export{e as u};
